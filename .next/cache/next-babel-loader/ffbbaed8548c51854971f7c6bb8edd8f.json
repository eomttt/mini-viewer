{"ast":null,"code":"var _jsxFileName = \"/Users/hyuntaeeom/Projects/personal/mini-viewer/components/viewer/ViewerPage.tsx\";\nvar __jsx = React.createElement;\n\n/* eslint-disable react/no-danger */\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport { ViewerButton, ViewerArticle, ViewerSection, ViewerContents } from '../../styles/viewer';\nimport * as viewerActions from '../../reducers/viewer';\nimport { VIEWER_PAGE_GAP } from '../../constants/viewer';\nconst Article = styled(ViewerArticle).withConfig({\n  displayName: \"ViewerPage__Article\",\n  componentId: \"sc-14mn4t-0\"\n})([\"overflow:hidden;text-align:initial;\"]);\nconst RightButton = styled(ViewerButton).withConfig({\n  displayName: \"ViewerPage__RightButton\",\n  componentId: \"sc-14mn4t-1\"\n})([\"right:2em;\"]);\nconst LeftButton = styled(ViewerButton).withConfig({\n  displayName: \"ViewerPage__LeftButton\",\n  componentId: \"sc-14mn4t-2\"\n})([\"left:2em;\"]);\n\nconst ViewerPage = ({\n  viewerWidth,\n  viewerHeight,\n  pageColumnOffset,\n  viewerSpine,\n  isFirstPage,\n  isLastPage\n}) => {\n  const dispatch = useDispatch();\n  const {\n    0: nowViewerCount,\n    1: setNowViewerCount\n  } = useState(0);\n  const {\n    fontSize,\n    widthRatio,\n    lineHeight\n  } = useSelector(state => state.viewerSetting);\n  const viewArticleRef = useRef(null);\n  useEffect(() => {\n    const {\n      current: viewArticleRefCurrent\n    } = viewArticleRef;\n    viewArticleRefCurrent.scrollLeft = pageColumnOffset * (viewerWidth + VIEWER_PAGE_GAP);\n    setNowViewerCount(pageColumnOffset);\n  }, [viewerSpine, pageColumnOffset, viewerWidth]);\n  const clickRight = useCallback(() => {\n    const {\n      current: viewArticleRefCurrent\n    } = viewArticleRef;\n    setNowViewerCount(nowViewerCount + 1);\n    viewArticleRefCurrent.scrollLeft += viewerWidth + VIEWER_PAGE_GAP;\n    dispatch(viewerActions.setCountUpViewerPageCount());\n  }, [dispatch, nowViewerCount, viewerWidth]);\n  const clickLeft = useCallback(() => {\n    const {\n      current: viewArticleRefCurrent\n    } = viewArticleRef;\n    setNowViewerCount(nowViewerCount - 1);\n    viewArticleRefCurrent.scrollLeft -= viewerWidth + VIEWER_PAGE_GAP;\n    dispatch(viewerActions.setCountDownViewerPageCount());\n  }, [dispatch, nowViewerCount, viewerWidth]);\n  return __jsx(React.Fragment, null, __jsx(Article, {\n    ref: viewArticleRef,\n    onClick: clickRight,\n    styleProps: {\n      widthRatio,\n      fontSize,\n      lineHeight,\n      width: viewerWidth,\n      height: viewerHeight\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(ViewerSection, {\n    styleProps: {\n      widthRatio,\n      fontSize,\n      lineHeight,\n      width: viewerWidth,\n      height: viewerHeight\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, __jsx(ViewerContents, {\n    dangerouslySetInnerHTML: {\n      __html: viewerSpine\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }))), !isFirstPage && __jsx(LeftButton, {\n    onClick: clickLeft,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Left\"), !isLastPage && __jsx(RightButton, {\n    onClick: clickRight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Right\"));\n};\n\nexport default ViewerPage;","map":{"version":3,"sources":["/Users/hyuntaeeom/Projects/personal/mini-viewer/components/viewer/ViewerPage.tsx"],"names":["React","useState","useRef","useCallback","useEffect","useDispatch","useSelector","styled","ViewerButton","ViewerArticle","ViewerSection","ViewerContents","viewerActions","VIEWER_PAGE_GAP","Article","RightButton","LeftButton","ViewerPage","viewerWidth","viewerHeight","pageColumnOffset","viewerSpine","isFirstPage","isLastPage","dispatch","nowViewerCount","setNowViewerCount","fontSize","widthRatio","lineHeight","state","viewerSetting","viewArticleRef","current","viewArticleRefCurrent","scrollLeft","clickRight","setCountUpViewerPageCount","clickLeft","setCountDownViewerPageCount","width","height","__html"],"mappings":"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","sourcesContent":["\n/* eslint-disable react/no-danger */\nimport React, {\n  useState, useRef, useCallback, useEffect,\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport styled from 'styled-components';\n\nimport {\n  ViewerButton,\n  ViewerArticle,\n  ViewerSection,\n  ViewerContents,\n} from '../../styles/viewer';\n\nimport * as viewerActions from '../../reducers/viewer';\n\nimport { VIEWER_PAGE_GAP } from '../../constants/viewer';\n\nimport { ReducerState } from '../../interfaces';\n\nconst Article = styled(ViewerArticle)`\n  overflow: hidden;\n  text-align: initial;\n`;\n\nconst RightButton = styled(ViewerButton)`\n  right: 2em;\n`;\n\nconst LeftButton = styled(ViewerButton)`\n  left: 2em;\n`;\n\ninterface Props {\n  viewerWidth: number;\n  viewerHeight: number;\n  pageColumnOffset: number;\n  viewerSpine: string;\n  isFirstPage: boolean;\n  isLastPage: boolean;\n}\n\nconst ViewerPage: React.FunctionComponent<Props> = ({\n  viewerWidth, viewerHeight,\n  pageColumnOffset,\n  viewerSpine,\n  isFirstPage, isLastPage,\n}) => {\n  const dispatch = useDispatch();\n\n  const [nowViewerCount, setNowViewerCount] = useState(0);\n\n  const {\n    fontSize, widthRatio, lineHeight,\n  } = useSelector((state: ReducerState) => state.viewerSetting);\n\n  const viewArticleRef = useRef(null);\n\n  useEffect(() => {\n    const { current: viewArticleRefCurrent } = viewArticleRef;\n    viewArticleRefCurrent.scrollLeft = pageColumnOffset * (viewerWidth + VIEWER_PAGE_GAP);\n    setNowViewerCount(pageColumnOffset);\n  }, [viewerSpine, pageColumnOffset, viewerWidth]);\n\n  const clickRight = useCallback(() => {\n    const { current: viewArticleRefCurrent } = viewArticleRef;\n\n    setNowViewerCount(nowViewerCount + 1);\n    viewArticleRefCurrent.scrollLeft += (viewerWidth + VIEWER_PAGE_GAP);\n    dispatch(viewerActions.setCountUpViewerPageCount());\n  }, [dispatch, nowViewerCount, viewerWidth]);\n\n  const clickLeft = useCallback(() => {\n    const { current: viewArticleRefCurrent } = viewArticleRef;\n    setNowViewerCount(nowViewerCount - 1);\n    viewArticleRefCurrent.scrollLeft -= (viewerWidth + VIEWER_PAGE_GAP);\n    dispatch(viewerActions.setCountDownViewerPageCount());\n  }, [dispatch, nowViewerCount, viewerWidth]);\n\n  return (\n    <>\n      <Article\n        ref={viewArticleRef}\n        onClick={clickRight}\n        styleProps={{\n          widthRatio,\n          fontSize,\n          lineHeight,\n          width: viewerWidth,\n          height: viewerHeight,\n        }}\n      >\n        <ViewerSection\n          styleProps={{\n            widthRatio,\n            fontSize,\n            lineHeight,\n            width: viewerWidth,\n            height: viewerHeight,\n          }}\n        >\n          <ViewerContents dangerouslySetInnerHTML={{ __html: viewerSpine }} />\n        </ViewerSection>\n      </Article>\n      {!isFirstPage && <LeftButton onClick={clickLeft}>Left</LeftButton>}\n      {!isLastPage && <RightButton onClick={clickRight}>Right</RightButton>}\n    </>\n  );\n};\n\nexport default ViewerPage;\n"]},"metadata":{},"sourceType":"module"}