{"ast":null,"code":"var _jsxFileName = \"/Users/hyuntaeeom/Projects/personal/mini-viewer/components/viewer/Viewer.tsx\";\nvar __jsx = React.createElement;\n\n/* eslint-disable react/no-danger */\nimport React, { useState, useRef, useCallback, useMemo } from 'react';\nimport { ViewArticle, ViewSection, Contents, LeftButton, RightButton } from '../../styles/viewer';\nimport { VIEWER_PAGE_GAP } from '../../constants/viewer';\n\nvar Viewer = function Viewer(_ref) {\n  var viewerWidth = _ref.viewerWidth,\n      viewerHeight = _ref.viewerHeight,\n      wholeColumnCount = _ref.wholeColumnCount,\n      spine = _ref.spine,\n      viewerSpine = _ref.viewerSpine,\n      setNextSpine = _ref.setNextSpine,\n      setPrevSpine = _ref.setPrevSpine;\n\n  var _useState = useState(0),\n      nowViewerCount = _useState[0],\n      setNowViewerCount = _useState[1];\n\n  var hasNextViewer = useMemo(function () {\n    return nowViewerCount < wholeColumnCount;\n  }, [nowViewerCount, wholeColumnCount]);\n  var hasPrevViewer = useMemo(function () {\n    return nowViewerCount > 0;\n  }, [nowViewerCount]);\n  var viewArticleRef = useRef(null);\n  var countUpViewerCount = useCallback(function () {\n    setNowViewerCount(nowViewerCount + 1);\n  }, [nowViewerCount]);\n  var countDownViewrCount = useCallback(function () {\n    setNowViewerCount(nowViewerCount - 1);\n  }, [nowViewerCount]);\n  var clickRight = useCallback(function () {\n    if (viewArticleRef) {\n      countUpViewerCount();\n      console.log('AAAA', nowViewerCount, wholeColumnCount);\n      var viewArticleRefCurrent = viewArticleRef.current;\n\n      if (hasNextViewer) {\n        setNowViewerCount(nowViewerCount + 1);\n        viewArticleRefCurrent.scrollLeft += viewerWidth + VIEWER_PAGE_GAP;\n      } else {\n        viewArticleRefCurrent.scrollLeft = 0;\n        setNowViewerCount(0);\n        setNextSpine();\n      }\n    }\n  }, [countUpViewerCount, hasNextViewer, viewArticleRef, wholeColumnCount, nowViewerCount, viewerWidth, setNextSpine]);\n  var clickLeft = useCallback(function () {\n    if (viewArticleRef) {\n      var viewArticleRefCurrent = viewArticleRef.current;\n\n      if (hasPrevViewer) {\n        setNowViewerCount(nowViewerCount - 1);\n        viewArticleRefCurrent.scrollLeft -= viewerWidth + VIEWER_PAGE_GAP;\n      } else {\n        viewArticleRefCurrent.scrollLeft = 0;\n        setNowViewerCount(0);\n        setPrevSpine();\n      }\n    }\n  }, [viewArticleRef, hasPrevViewer, nowViewerCount, viewerWidth, setPrevSpine]);\n  return __jsx(React.Fragment, null, __jsx(ViewArticle, {\n    ref: viewArticleRef,\n    onClick: clickRight,\n    styleProps: {\n      width: viewerWidth,\n      height: viewerHeight\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(ViewSection, {\n    styleProps: {\n      width: viewerWidth,\n      height: viewerHeight\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(Contents, {\n    dangerouslySetInnerHTML: {\n      __html: viewerSpine\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }))), __jsx(LeftButton, {\n    onClick: clickLeft,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Left\"), __jsx(RightButton, {\n    onClick: clickRight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Right\"));\n};\n\nexport default Viewer;","map":{"version":3,"sources":["/Users/hyuntaeeom/Projects/personal/mini-viewer/components/viewer/Viewer.tsx"],"names":["React","useState","useRef","useCallback","useMemo","ViewArticle","ViewSection","Contents","LeftButton","RightButton","VIEWER_PAGE_GAP","Viewer","viewerWidth","viewerHeight","wholeColumnCount","spine","viewerSpine","setNextSpine","setPrevSpine","nowViewerCount","setNowViewerCount","hasNextViewer","hasPrevViewer","viewArticleRef","countUpViewerCount","countDownViewrCount","clickRight","console","log","viewArticleRefCurrent","current","scrollLeft","clickLeft","width","height","__html"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-danger */\nimport React, {\n  useState, useRef, useCallback, useMemo,\n} from 'react';\n\nimport { EpubSpineItem } from '../../interfaces/books';\n\nimport {\n  ViewArticle, ViewSection, Contents,\n  LeftButton, RightButton,\n} from '../../styles/viewer';\n\nimport { VIEWER_PAGE_GAP } from '../../constants/viewer';\n\ninterface Props {\n  viewerWidth: number;\n  viewerHeight: number;\n  wholeColumnCount: number;\n  spine: EpubSpineItem;\n  viewerSpine: string;\n  setNextSpine: () => void;\n  setPrevSpine: () => void;\n}\n\nconst Viewer: React.FunctionComponent<Props> = ({\n  viewerWidth, viewerHeight, wholeColumnCount,\n  spine, viewerSpine,\n  setNextSpine, setPrevSpine,\n}) => {\n  const [nowViewerCount, setNowViewerCount] = useState(0);\n\n  const hasNextViewer = useMemo(() => nowViewerCount < wholeColumnCount, [nowViewerCount, wholeColumnCount]);\n  const hasPrevViewer = useMemo(() => nowViewerCount > 0, [nowViewerCount]);\n\n  const viewArticleRef = useRef(null);\n\n  const countUpViewerCount = useCallback(() => {\n    setNowViewerCount(nowViewerCount + 1);\n  }, [nowViewerCount]);\n\n  const countDownViewrCount = useCallback(() => {\n    setNowViewerCount(nowViewerCount - 1);\n  }, [nowViewerCount]);\n\n  const clickRight = useCallback(() => {\n    if (viewArticleRef) {\n      countUpViewerCount();\n      console.log('AAAA', nowViewerCount, wholeColumnCount);\n      const { current: viewArticleRefCurrent } = viewArticleRef;\n      if (hasNextViewer) {\n        setNowViewerCount(nowViewerCount + 1);\n        viewArticleRefCurrent.scrollLeft += (viewerWidth + VIEWER_PAGE_GAP);\n      } else {\n        viewArticleRefCurrent.scrollLeft = 0;\n        setNowViewerCount(0);\n        setNextSpine();\n      }\n    }\n  }, [countUpViewerCount, hasNextViewer, viewArticleRef, wholeColumnCount, nowViewerCount, viewerWidth, setNextSpine]);\n\n  const clickLeft = useCallback(() => {\n    if (viewArticleRef) {\n      const { current: viewArticleRefCurrent } = viewArticleRef;\n\n      if (hasPrevViewer) {\n        setNowViewerCount(nowViewerCount - 1);\n        viewArticleRefCurrent.scrollLeft -= (viewerWidth + VIEWER_PAGE_GAP);\n      } else {\n        viewArticleRefCurrent.scrollLeft = 0;\n        setNowViewerCount(0);\n        setPrevSpine();\n      }\n    }\n  }, [viewArticleRef, hasPrevViewer, nowViewerCount, viewerWidth, setPrevSpine]);\n\n  return (\n    <>\n      <ViewArticle\n        ref={viewArticleRef}\n        onClick={clickRight}\n        styleProps={{\n          width: viewerWidth,\n          height: viewerHeight,\n        }}\n      >\n        <ViewSection\n          styleProps={{\n            width: viewerWidth,\n            height: viewerHeight,\n          }}\n        >\n          <Contents dangerouslySetInnerHTML={{ __html: viewerSpine }} />\n        </ViewSection>\n      </ViewArticle>\n      <LeftButton onClick={clickLeft}>Left</LeftButton>\n      <RightButton onClick={clickRight}>Right</RightButton>\n    </>\n  );\n};\n\nexport default Viewer;\n"]},"metadata":{},"sourceType":"module"}