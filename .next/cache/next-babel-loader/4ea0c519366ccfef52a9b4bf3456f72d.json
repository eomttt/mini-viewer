{"ast":null,"code":"var _jsxFileName = \"/Users/hyuntaeeom/Projects/personal/mini-viewer/components/viewer/ViewerCount.tsx\";\nvar __jsx = React.createElement;\nimport React, { useRef, useEffect } from 'react';\nimport { HiddenViewSection, Contents } from '../../styles/viewer';\nimport { VIEWER_HEIGHT_RATIO } from '../../constants/viewer';\n\nvar ViewerCount = function ViewerCount(_ref) {\n  var viewerSpineIndex = _ref.viewerSpineIndex,\n      viewerSpine = _ref.viewerSpine,\n      viewerColumnCountCallback = _ref.viewerColumnCountCallback;\n  console.log(\"DDDD\");\n  var hiddenViewSectionRef = useRef(null);\n  useEffect(function () {\n    if (hiddenViewSectionRef) {\n      var viewerHeight = Math.floor(window.innerHeight * (VIEWER_HEIGHT_RATIO / 100));\n      var hiddenViewSectionCurrent = hiddenViewSectionRef.current;\n\n      var _count = hiddenViewSectionCurrent.clientHeight / viewerHeight;\n\n      console.log(\"AAA\");\n      viewerColumnCountCallback(viewerSpineIndex, _count);\n    }\n  }, [hiddenViewSectionRef, viewerColumnCountCallback, viewerSpineIndex]);\n  return __jsx(HiddenViewSection, {\n    ref: hiddenViewSectionRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(Contents, {\n    dangerouslySetInnerHTML: {\n      __html: viewerSpine\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }));\n};\n\nexport default ViewerCount;","map":{"version":3,"sources":["/Users/hyuntaeeom/Projects/personal/mini-viewer/components/viewer/ViewerCount.tsx"],"names":["React","useRef","useEffect","HiddenViewSection","Contents","VIEWER_HEIGHT_RATIO","ViewerCount","viewerSpineIndex","viewerSpine","viewerColumnCountCallback","console","log","hiddenViewSectionRef","viewerHeight","Math","floor","window","innerHeight","hiddenViewSectionCurrent","current","count","clientHeight","__html"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;AAEA,SAASC,iBAAT,EAA4BC,QAA5B,QAA4C,qBAA5C;AAEA,SAASC,mBAAT,QAAoC,wBAApC;;AAQA,IAAMC,WAA2C,GAAG,SAA9CA,WAA8C,OAG9C;AAAA,MAFJC,gBAEI,QAFJA,gBAEI;AAAA,MAFcC,WAEd,QAFcA,WAEd;AAAA,MADJC,yBACI,QADJA,yBACI;AACJC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,MAAMC,oBAAoB,GAAGX,MAAM,CAAC,IAAD,CAAnC;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIU,oBAAJ,EAA0B;AACxB,UAAMC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,WAAP,IAAsBZ,mBAAmB,GAAG,GAA5C,CAAX,CAArB;AADwB,UAEPa,wBAFO,GAEsBN,oBAFtB,CAEhBO,OAFgB;;AAGxB,UAAMC,MAAK,GAAGF,wBAAwB,CAACG,YAAzB,GAAwCR,YAAtD;;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAF,MAAAA,yBAAyB,CAACF,gBAAD,EAAmBa,MAAnB,CAAzB;AACD;AACF,GARQ,EAQN,CAACR,oBAAD,EAAuBH,yBAAvB,EAAkDF,gBAAlD,CARM,CAAT;AAUA,SACE,MAAC,iBAAD;AACE,IAAA,GAAG,EAAEK,oBADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE,MAAC,QAAD;AAAU,IAAA,uBAAuB,EAAE;AAAEU,MAAAA,MAAM,EAAEd;AAAV,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF;AAOD,CAxBD;;AA0BA,eAAeF,WAAf","sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nimport { HiddenViewSection, Contents } from '../../styles/viewer';\n\nimport { VIEWER_HEIGHT_RATIO } from '../../constants/viewer';\n\ninterface Props {\n  viewerSpineIndex: number;\n  viewerSpine: string;\n  viewerColumnCountCallback: (spineIndex: number, count: number) => void;\n}\n\nconst ViewerCount: React.FunctionComponent<Props> = ({\n  viewerSpineIndex, viewerSpine,\n  viewerColumnCountCallback,\n}) => {\n  console.log(\"DDDD\");\n  const hiddenViewSectionRef = useRef(null);\n\n  useEffect(() => {\n    if (hiddenViewSectionRef) {\n      const viewerHeight = Math.floor(window.innerHeight * (VIEWER_HEIGHT_RATIO / 100));\n      const { current: hiddenViewSectionCurrent } = hiddenViewSectionRef;\n      const count = hiddenViewSectionCurrent.clientHeight / viewerHeight;\n      console.log(\"AAA\");\n      viewerColumnCountCallback(viewerSpineIndex, count);\n    }\n  }, [hiddenViewSectionRef, viewerColumnCountCallback, viewerSpineIndex]);\n\n  return (\n    <HiddenViewSection\n      ref={hiddenViewSectionRef}\n    >\n      <Contents dangerouslySetInnerHTML={{ __html: viewerSpine }} />\n    </HiddenViewSection>\n  );\n};\n\nexport default ViewerCount;\n"]},"metadata":{},"sourceType":"module"}