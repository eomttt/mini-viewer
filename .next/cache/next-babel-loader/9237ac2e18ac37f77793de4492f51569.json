{"ast":null,"code":"var _jsxFileName = \"/Users/hyuntaeeom/Projects/personal/mini-viewer/components/viewer/ViewerPage.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable react/no-danger */\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport { ButtonStyle, ViewArticleStyle, ViewSectionStyle, ViewerContentsStyle } from '../../styles/viewer';\nimport * as viewerActions from '../../reducers/viewer';\nimport { VIEWER_PAGE_GAP } from '../../constants/viewer';\nconst ViewArticle = styled.article.withConfig({\n  displayName: \"ViewerPage__ViewArticle\",\n  componentId: \"sc-14mn4t-0\"\n})([\"\", \" width:\", \"px;height:\", \"px;overflow:hidden;font-size:\", \"em;line-height:\", \"em;padding:0 \", \"em;\"], ViewArticleStyle, props => props.styleProps.width, props => props.styleProps.height, props => props.styleProps.fontSize, props => props.styleProps.lineHeight, props => props.styleProps.padding);\nconst ViewSection = styled.section.withConfig({\n  displayName: \"ViewerPage__ViewSection\",\n  componentId: \"sc-14mn4t-1\"\n})([\"\", \" column-width:\", \"px;\"], ViewSectionStyle, props => props.styleProps.width);\nconst Contents = styled.div.withConfig({\n  displayName: \"ViewerPage__Contents\",\n  componentId: \"sc-14mn4t-2\"\n})([\"\", \"\"], ViewerContentsStyle);\nconst RightButton = styled.div.withConfig({\n  displayName: \"ViewerPage__RightButton\",\n  componentId: \"sc-14mn4t-3\"\n})([\"\", \" right:2em;\"], ButtonStyle);\nconst LeftButton = styled.div.withConfig({\n  displayName: \"ViewerPage__LeftButton\",\n  componentId: \"sc-14mn4t-4\"\n})([\"\", \" left:2em;\"], ButtonStyle);\n\nconst ViewerPage = ({\n  viewerWidth,\n  viewerHeight,\n  pageColumnOffset,\n  viewerSpine,\n  isFirstPage,\n  isLastPage,\n  viewerStyle\n}) => {\n  const dispatch = useDispatch();\n  const {\n    0: nowViewerCount,\n    1: setNowViewerCount\n  } = useState(0);\n  const viewArticleRef = useRef(null);\n  useEffect(() => {\n    const {\n      current: viewArticleRefCurrent\n    } = viewArticleRef;\n    viewArticleRefCurrent.scrollLeft = pageColumnOffset * (viewerWidth + VIEWER_PAGE_GAP);\n    setNowViewerCount(pageColumnOffset);\n  }, [viewerSpine, pageColumnOffset, viewerWidth]);\n  const clickRight = useCallback(() => {\n    const {\n      current: viewArticleRefCurrent\n    } = viewArticleRef;\n    setNowViewerCount(nowViewerCount + 1);\n    viewArticleRefCurrent.scrollLeft += viewerWidth + VIEWER_PAGE_GAP;\n    dispatch(viewerActions.setCountUpViewerPageCount());\n  }, [dispatch, nowViewerCount, viewerWidth]);\n  const clickLeft = useCallback(() => {\n    const {\n      current: viewArticleRefCurrent\n    } = viewArticleRef;\n    setNowViewerCount(nowViewerCount - 1);\n    viewArticleRefCurrent.scrollLeft -= viewerWidth + VIEWER_PAGE_GAP;\n    dispatch(viewerActions.setCountDownViewerPageCount());\n  }, [dispatch, nowViewerCount, viewerWidth]);\n  return __jsx(React.Fragment, null, __jsx(ViewArticle, {\n    ref: viewArticleRef,\n    onClick: clickRight,\n    styleProps: _objectSpread({}, viewerStyle, {\n      width: viewerWidth,\n      height: viewerHeight\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, __jsx(ViewSection, {\n    styleProps: {\n      width: viewerWidth,\n      height: viewerHeight\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, __jsx(Contents, {\n    dangerouslySetInnerHTML: {\n      __html: viewerSpine\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }))), !isFirstPage && __jsx(LeftButton, {\n    onClick: clickLeft,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Left\"), !isLastPage && __jsx(RightButton, {\n    onClick: clickRight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Right\"));\n};\n\nexport default ViewerPage;","map":{"version":3,"sources":["/Users/hyuntaeeom/Projects/personal/mini-viewer/components/viewer/ViewerPage.tsx"],"names":["React","useState","useRef","useCallback","useEffect","useDispatch","styled","ButtonStyle","ViewArticleStyle","ViewSectionStyle","ViewerContentsStyle","viewerActions","VIEWER_PAGE_GAP","ViewArticle","article","props","styleProps","width","height","fontSize","lineHeight","padding","ViewSection","section","Contents","div","RightButton","LeftButton","ViewerPage","viewerWidth","viewerHeight","pageColumnOffset","viewerSpine","isFirstPage","isLastPage","viewerStyle","dispatch","nowViewerCount","setNowViewerCount","viewArticleRef","current","viewArticleRefCurrent","scrollLeft","clickRight","setCountUpViewerPageCount","clickLeft","setCountDownViewerPageCount","__html"],"mappings":"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","sourcesContent":["\n/* eslint-disable react/no-danger */\nimport React, {\n  useState, useRef, useCallback, useEffect,\n} from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport styled from 'styled-components';\n\nimport {\n  ButtonStyle,\n  ViewArticleStyle,\n  ViewSectionStyle,\n  ViewerContentsStyle,\n} from '../../styles/viewer';\n\nimport * as viewerActions from '../../reducers/viewer';\n\nimport { VIEWER_PAGE_GAP } from '../../constants/viewer';\n\nimport { ViewerStyle } from '../../interfaces/viewer';\n\nconst ViewArticle = styled.article`\n  ${ViewArticleStyle}\n  width: ${(props) => props.styleProps.width}px;\n  height: ${(props) => props.styleProps.height}px;\n  overflow: hidden;\n  font-size: ${(props) => props.styleProps.fontSize}em;\n  line-height: ${(props) => props.styleProps.lineHeight}em;\n  padding: 0 ${(props) => props.styleProps.padding}em;\n`;\n\nconst ViewSection = styled.section`\n  ${ViewSectionStyle}\n  column-width: ${(props) => props.styleProps.width}px;\n`;\n\nconst Contents = styled.div`\n  ${ViewerContentsStyle}\n`;\n\nconst RightButton = styled.div`\n  ${ButtonStyle}\n  right: 2em;\n`;\n\nconst LeftButton = styled.div`\n  ${ButtonStyle}\n  left: 2em;\n`;\n\ninterface Props {\n  viewerWidth: number;\n  viewerHeight: number;\n  pageColumnOffset: number;\n  viewerSpine: string;\n  isFirstPage: boolean;\n  isLastPage: boolean;\n  viewerStyle: ViewerStyle;\n}\n\nconst ViewerPage: React.FunctionComponent<Props> = ({\n  viewerWidth, viewerHeight,\n  pageColumnOffset,\n  viewerSpine,\n  isFirstPage, isLastPage,\n  viewerStyle,\n}) => {\n  const dispatch = useDispatch();\n  const [nowViewerCount, setNowViewerCount] = useState(0);\n\n  const viewArticleRef = useRef(null);\n\n  useEffect(() => {\n    const { current: viewArticleRefCurrent } = viewArticleRef;\n    viewArticleRefCurrent.scrollLeft = pageColumnOffset * (viewerWidth + VIEWER_PAGE_GAP);\n    setNowViewerCount(pageColumnOffset);\n  }, [viewerSpine, pageColumnOffset, viewerWidth]);\n\n  const clickRight = useCallback(() => {\n    const { current: viewArticleRefCurrent } = viewArticleRef;\n\n    setNowViewerCount(nowViewerCount + 1);\n    viewArticleRefCurrent.scrollLeft += (viewerWidth + VIEWER_PAGE_GAP);\n    dispatch(viewerActions.setCountUpViewerPageCount());\n  }, [dispatch, nowViewerCount, viewerWidth]);\n\n  const clickLeft = useCallback(() => {\n    const { current: viewArticleRefCurrent } = viewArticleRef;\n    setNowViewerCount(nowViewerCount - 1);\n    viewArticleRefCurrent.scrollLeft -= (viewerWidth + VIEWER_PAGE_GAP);\n    dispatch(viewerActions.setCountDownViewerPageCount());\n  }, [dispatch, nowViewerCount, viewerWidth]);\n\n  return (\n    <>\n      <ViewArticle\n        ref={viewArticleRef}\n        onClick={clickRight}\n        styleProps={{\n          ...viewerStyle,\n          width: viewerWidth,\n          height: viewerHeight,\n        }}\n      >\n        <ViewSection\n          styleProps={{\n            width: viewerWidth,\n            height: viewerHeight,\n          }}\n        >\n          <Contents dangerouslySetInnerHTML={{ __html: viewerSpine }} />\n        </ViewSection>\n      </ViewArticle>\n      {!isFirstPage && <LeftButton onClick={clickLeft}>Left</LeftButton>}\n      {!isLastPage && <RightButton onClick={clickRight}>Right</RightButton>}\n    </>\n  );\n};\n\nexport default ViewerPage;\n"]},"metadata":{},"sourceType":"module"}