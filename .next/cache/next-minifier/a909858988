{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{\"0XaK\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/viewer\",function(){return n(\"7je4\")}])},\"2N3f\":function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return u})),n.d(t,\"e\",(function(){return l})),n.d(t,\"f\",(function(){return s})),n.d(t,\"d\",(function(){return f})),n.d(t,\"c\",(function(){return d}));var i=n(\"KQm4\"),r=n(\"rePB\");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={viewerCountList:[],viewerPageCount:0},u=function(){return{type:\"viewer/INIT_VIEWER_STATE\"}},l=function(e){return{type:\"viewer/SET_VIEWER_COLUMN_COUNT_LIST\",payload:{countList:e}}},s=function(e){return{type:\"viewer/SET_VIEWER_PAGE_COUNT\",payload:{pageCount:e}}},f=function(){return{type:\"viewer/SET_COUNT_UP_VIEWER_PAGE_COUNT\"}},d=function(){return{type:\"viewer/SET_COUNT_DOWN_VIEWER_PAGE_COUNT\"}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case\"viewer/INIT_VIEWER_STATE\":return a({},e,{viewerCountList:[],viewerPageCount:0});case\"viewer/SET_VIEWER_COLUMN_COUNT_LIST\":var o=r.countList;return a({},e,{viewerCountList:Object(i.a)(o)});case\"viewer/SET_VIEWER_PAGE_COUNT\":var u=r.pageCount;return a({},e,{viewerPageCount:u});case\"viewer/SET_COUNT_UP_VIEWER_PAGE_COUNT\":return a({},e,{viewerPageCount:e.viewerPageCount+1});case\"viewer/SET_COUNT_DOWN_VIEWER_PAGE_COUNT\":return a({},e,{viewerPageCount:e.viewerPageCount-1});default:return a({},e)}}},\"4uiG\":function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return f})),n.d(t,\"e\",(function(){return d})),n.d(t,\"d\",(function(){return p})),n.d(t,\"b\",(function(){return b}));var i=n(\"rePB\"),r=n(\"vBmG\"),o=n(\"7b7C\");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={fontSize:o.b.MIN,widthRatio:o.l.MAX,lineHeight:o.c.MIN,backgroundColor:r.a},l=\"viewerSetting/SET_FONT_SIZE\",s=\"viewerSetting/SET_VIEWER_SETTING_BACKGROUND_COLOR\",f=function(e){return{type:l,payload:{fontSize:e}}},d=function(e){return{type:\"viewerSetting/SET_WIDTH_RATIO\",payload:{widthRatio:e}}},p=function(e){return{type:\"viewerSetting/SET_LINE_HEIGHT\",payload:{lineHeight:e}}},b=function(e){return{type:s,payload:{backgroundColor:e}}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=t.type,i=t.payload;switch(n){case l:var r=i.fontSize;return c({},e,{fontSize:r});case\"viewerSetting/SET_WIDTH_RATIO\":var o=i.widthRatio;return c({},e,{widthRatio:o});case\"viewerSetting/SET_LINE_HEIGHT\":var a=i.lineHeight;return c({},e,{lineHeight:a});case s:var f=i.backgroundColor;return c({},e,{backgroundColor:f});default:return c({},e)}}},\"7je4\":function(e,t,n){\"use strict\";n.r(t);var i=n(\"o0o1\"),r=n.n(i),o=n(\"ODXe\"),a=n(\"q1tI\"),c=n.n(a),u=n(\"/MKj\"),l=n(\"vOnD\"),s=n(\"2N3f\"),f=n(\"7b7C\"),d=c.a.createElement,p=l.a.div.withConfig({displayName:\"ViewerSlider__Container\",componentId:\"sc-1bvmglt-0\"})([\"width:100%;margin:auto 5%;flex-direction:column;display:flex;\"]),b=l.a.input.withConfig({displayName:\"ViewerSlider__Input\",componentId:\"sc-1bvmglt-1\"})([\"margin-left:\",\"%;width:\",\"%;cursor:grab;\"],(100-f.j)/2,f.j),v=l.a.div.withConfig({displayName:\"ViewerSlider__Marker\",componentId:\"sc-1bvmglt-2\"})([\"margin-left:\",\"%;\"],(100-f.j)/2),w=function(e){var t=e.maxValue,n=Object(u.b)(),i=Object(a.useState)(0),r=i[0],o=i[1],l=Object(u.c)((function(e){return e.viewer})).viewerPageCount,f=Object(a.useMemo)((function(){return!!t}),[t]);Object(a.useEffect)((function(){o(l)}),[l]);var w=Object(a.useCallback)((function(e){n(s.f(Number(e.target.value)))}),[n]);return d(p,null,f&&d(c.a.Fragment,null,d(v,null,\"\".concat(r,\"/\").concat(t)),d(b,{type:\"range\",min:\"0\",max:t,value:r,onChange:w})))},m=n(\"vBmG\"),g=l.a.div.withConfig({displayName:\"viewer__ViewerMenu\",componentId:\"fvzlxv-0\"})([\"width:100%;height:\",\"%;position:fixed;display:flex;border-top:1px solid \",\";border-bottom:1px solid \",\";background-color:\",\";z-index:5;\"],(100-f.g)/2-1,m.b,m.b,m.a),h=l.a.article.withConfig({displayName:\"viewer__ViewerArticle\",componentId:\"fvzlxv-1\"})([\"box-sizing:border-box;visibility:visible;vertical-align:top;white-space:initial;display:inline-block;width:\",\"px;height:\",\"px;font-size:\",\"em;line-height:\",\"em;\"],(function(e){return e.styleProps.width}),(function(e){return e.styleProps.height}),(function(e){return e.styleProps.fontSize}),(function(e){return e.styleProps.lineHeight})),O=l.a.section.withConfig({displayName:\"viewer__ViewerSection\",componentId:\"fvzlxv-2\"})([\"height:100%;column-gap:\",\"px;column-fill:auto;column-width:\",\"px;\"],f.h,(function(e){return e.styleProps.width})),y=l.a.div.withConfig({displayName:\"viewer__ViewerContents\",componentId:\"fvzlxv-3\"})([\"-webkit-appearance:none;-moz-appearance:none;appearance:none;\"]),_=l.a.div.withConfig({displayName:\"viewer__ViewerButton\",componentId:\"fvzlxv-4\"})([\"position:absolute;top:50%;transform:translateY(-50%);cursor:pointer;\"]),j=l.a.div.withConfig({displayName:\"viewer__ViewerSettingItem\",componentId:\"fvzlxv-5\"})([\"height:3em;text-align:center;padding:.4em;border-bottom:1px solid \",\";margin:0;display:flex;&:nth-last-child(1){border-bottom:initial;}\"],m.b),C=l.a.div.withConfig({displayName:\"viewer__ViewerSettingLabel\",componentId:\"fvzlxv-6\"})([\"margin:auto .5em auto 0;\"]),I=l.a.div.withConfig({displayName:\"viewer__ViewerSettingValue\",componentId:\"fvzlxv-7\"})([\"margin:auto auto auto 0;\"]),S=c.a.createElement,E=Object(l.a)(g).withConfig({displayName:\"ViewerBottom__Container\",componentId:\"djgv2d-0\"})([\"bottom:0;\"]),N=function(e){var t=e.sliderMaxValue;return S(E,null,S(w,{maxValue:t}))},P=n(\"KQm4\"),x=n(\"rePB\"),k=c.a.createElement;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=Object(l.a)(h).withConfig({displayName:\"ViewerCount__HiddenArticle\",componentId:\"sc-1llu6pn-0\"})([\"overflow:scroll;\"]),R=Object(l.a)(O).withConfig({displayName:\"ViewerCount__HiddenSection\",componentId:\"sc-1llu6pn-1\"})([\"visibility:hidden;\"]),L=function(e){var t=e.viewerWidth,n=e.viewerHeight,i=e.viewer,r=e.viewerStyle,o=e.setCountCallback,c=Object(a.useRef)(null),u=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(t){var e=c.current.scrollWidth/(t+f.h);o(e)}}),[t]),k(H,{styleProps:V({},r,{width:t,height:n}),ref:c},k(R,{styleProps:{width:t},ref:u},k(y,{dangerouslySetInnerHTML:{__html:i}})))},M=c.a.createElement;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={countItems:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"AddCount\":var n=t.payload;return z({},e,{countItems:[].concat(Object(P.a)(e.countItems),[n])});default:return z({},e)}},A=function(e){var t=e.viewerWidth,n=e.viewerHeight,i=e.viewers,r=e.spines,o=Object(u.b)(),l=Object(a.useReducer)(U,W),f=l[0],d=l[1],p=Object(u.c)((function(e){return e.viewerSetting})),b=p.fontSize,v=p.widthRatio,w=p.lineHeight,m=Object(a.useCallback)((function(e,t){var n=r[t];d({type:\"AddCount\",payload:{index:t,count:e,spineId:n.id}})}),[r]);return Object(a.useEffect)((function(){var e=f.countItems;e.length>=r.length&&o(s.e(e))}),[o,f,r]),M(c.a.Fragment,null,i.map((function(e,i){return M(L,{key:e,viewerWidth:t,viewerHeight:n,viewer:e,viewerStyle:{fontSize:b,widthRatio:v,lineHeight:w},setCountCallback:function(e){return m(e,i)}})})))},G=c.a.createElement,B=l.a.div.withConfig({displayName:\"ViewerNcx__Container\",componentId:\"q4ouf6-0\"})([\"position:relative;\"]),F=l.a.div.withConfig({displayName:\"ViewerNcx__ToggleButton\",componentId:\"q4ouf6-1\"})([\"cursor:pointer;\"]),X=l.a.ul.withConfig({displayName:\"ViewerNcx__NavPointItems\",componentId:\"q4ouf6-2\"})([\"position:absolute;width:10em;height:30em;left:50%;transform:translateX(-50%);overflow:scroll;list-style-type:none;margin:0;padding:0;border:1px solid \",\";background-color:\",\";\"],m.b,m.a),K=l.a.li.withConfig({displayName:\"ViewerNcx__NavPointItem\",componentId:\"q4ouf6-3\"})([\"text-align:center;padding:2px;border-bottom:1px solid \",\";cursor:pointer;margin:0;&:nth-last-child(1){border-bottom:initial;}\"],m.b),q=function(e){var t=e.ncxItem.navPoints,n=Object(u.b)(),i=Object(u.c)((function(e){return e.viewer})).viewerCountList,r=Object(a.useState)(!1),o=r[0],c=r[1],l=Object(a.useCallback)((function(e){var t=-1,r=0;i.some((function(n,i){return n.spineId===e&&(t=i,!0)})),t>-1&&(i.some((function(e,n){return!(n<t)||(r+=e.count,!1)})),n(s.f(r)))}),[n,i]),f=Object(a.useCallback)((function(){c(!o)}),[o]),d=Object(a.useCallback)((function(e){c(!1),l(e.spine.id)}),[l]);return G(B,null,G(F,{onClick:f},\"\\ubaa9\\ucc28\"),o&&G(X,null,t.map((function(e){return G(K,{onClick:function(){return d(e)},key:e.label},e.label)}))))},Z=n(\"9/5/\"),$=n.n(Z),J=c.a.createElement,Q=l.a.div.withConfig({displayName:\"ViewerSettingCountItem__Controller\",componentId:\"sc-1rnr8mc-0\"})([\"display:flex;width:30%;margin:auto 0 auto auto;border:1px solid \",\";border-radius:1em;padding-left:.3em;padding-right:.3em;\"],m.b),Y=l.a.div.withConfig({displayName:\"ViewerSettingCountItem__MinusButton\",componentId:\"sc-1rnr8mc-1\"})([\"width:50%;cursor:pointer;border-right:1px solid \",\"\"],m.b),ee=l.a.div.withConfig({displayName:\"ViewerSettingCountItem__PlusButton\",componentId:\"sc-1rnr8mc-2\"})([\"width:50%;cursor:pointer;\"]),te=function(e){var t=e.label,n=e.value,i=e.valueUnit,r=e.minValue,o=e.maxValue,c=e.action,u=Object(a.useState)(n),l=u[0],s=u[1],f=Object(a.useCallback)((function(e){return e%1===0}),[]),d=Object(a.useCallback)($()(c,400),[c]),p=Object(a.useCallback)((function(){var e=Number(l)+i;if(e<=o){var t=f(e)?e:e.toFixed(1);s(t),d(t)}else alert(\"\\ubcc0\\uacbd \\ud560 \\uc218 \\uc788\\ub294 \\ucd5c\\ub300\\uac12 \\uc785\\ub2c8\\ub2e4.\")}),[d,l,o,i,f]),b=Object(a.useCallback)((function(){var e=Number(l)-i;if(e>=r){var t=f(e)?e:e.toFixed(1);s(t),d(t)}else alert(\"\\ubcc0\\uacbd \\ud560 \\uc218 \\uc788\\ub294 \\ucd5c\\uc18c\\uac12 \\uc785\\ub2c8\\ub2e4.\")}),[d,l,r,i,f]);return J(j,null,J(C,null,t),J(I,null,l),J(Q,null,J(Y,{onClick:b},\"-\"),J(ee,{onClick:p},\"+\")))},ne=c.a.createElement,ie=l.a.div.withConfig({displayName:\"ViewerSettingColorItem__Controller\",componentId:\"sc-4drjko-0\"})([\"display:flex;margin:auto 0 auto auto;\"]),re=l.a.div.withConfig({displayName:\"ViewerSettingColorItem__Content\",componentId:\"sc-4drjko-1\"})([\"width:1em;height:1em;border:1px solid \",\";border-radius:50%;background-color:\",\" !important;cursor:pointer;margin:0 .2em;\"],(function(e){return e.styleProps.isSelected?\"black\":\"\".concat(m.b)}),(function(e){return e.styleProps.color})),oe=function(e){var t=e.label,n=e.value,i=e.colors,r=e.action,o=Object(a.useCallback)((function(e){r(e)}),[r]);return ne(j,null,ne(C,null,t),ne(ie,null,i.map((function(e){return ne(re,{key:e,styleProps:{color:e,isSelected:e===n},onClick:function(){return o(e)}})}))))},ae=n(\"4uiG\"),ce=c.a.createElement,ue=l.a.div.withConfig({displayName:\"ViewerSetting__Container\",componentId:\"sc-1omnhz6-0\"})([\"position:relative;\"]),le=l.a.div.withConfig({displayName:\"ViewerSetting__ToggleButton\",componentId:\"sc-1omnhz6-1\"})([\"cursor:pointer;\"]),se=l.a.ul.withConfig({displayName:\"ViewerSetting__SettingItems\",componentId:\"sc-1omnhz6-2\"})([\"position:absolute;width:15em;left:50%;transform:translateX(-50%);overflow:scroll;list-style-type:none;margin:0;padding:0;border:1px solid \",\";background-color:\",\";\"],m.b,m.a),fe=function(){var e=Object(u.c)((function(e){return e.viewerSetting})),t=e.fontSize,n=e.widthRatio,i=e.lineHeight,r=e.backgroundColor,o=Object(u.b)(),c=Object(a.useState)(!1),l=c[0],s=c[1],d=Object(a.useState)([]),p=d[0],b=d[1];Object(a.useEffect)((function(){b([{label:f.e.FONT_SIZE,key:f.d.FONT_SIZE,value:t,valueUnit:f.f.FONT_SIZE,minValue:f.b.MIN,maxValue:f.b.MAX,action:function(e){o(ae.c(e))}},{label:f.e.WIDTH_RATIO,key:f.d.WIDTH_RATIO,value:n,valueUnit:f.f.WIDTH,minValue:f.l.MIN,maxValue:f.l.MAX,action:function(e){o(ae.e(e))}},{label:f.e.LINE_HEIGHT,key:f.d.LINE_HEIGHT,value:i,valueUnit:f.f.LINE_HEIGHT,minValue:f.c.MIN,maxValue:f.c.MAX,action:function(e){o(ae.d(e))}},{label:f.e.BACKGROUND_COLOR,key:f.d.BACKGROUND_COLOR,value:r,colors:f.a,action:function(e){o(ae.b(e))}}])}),[o,t,n,i,r]);var v=Object(a.useCallback)((function(){s(!l)}),[l]),w=Object(a.useCallback)((function(e){var t=e.key,n=e.label,i=e.value,r=e.valueUnit,o=e.action,a=e.minValue,c=e.maxValue,u=e.colors;return u?ce(oe,{key:t,label:n,value:i,colors:u,action:o}):ce(te,{key:t,label:n,value:i,valueUnit:r,minValue:a,maxValue:c,action:o})}),[]);return ce(ue,null,ce(le,{onClick:v},\"\\uc124\\uc815\"),l&&ce(se,null,p.map((function(e){return w(e)}))))},de=c.a.createElement,pe=Object(l.a)(g).withConfig({displayName:\"ViewerHeader__Container\",componentId:\"ym8won-0\"})([\"top:0;\"]),be=l.a.div.withConfig({displayName:\"ViewerHeader__Info\",componentId:\"ym8won-1\"})([\"max-width:50%;white-space:nowrap;vertical-align:top;margin:auto auto auto 7em;\"]),ve=l.a.div.withConfig({displayName:\"ViewerHeader__Title\",componentId:\"ym8won-2\"})([\"width:100%;text-overflow:ellipsis;overflow:hidden;display:inline-block;font-size:\",\";\"],m.c),we=l.a.div.withConfig({displayName:\"ViewerHeader__Author\",componentId:\"ym8won-3\"})([\"width:100%;text-overflow:ellipsis;overflow:hidden;\"]),me=l.a.div.withConfig({displayName:\"ViewerHeader__HeaderNcx\",componentId:\"ym8won-4\"})([\"margin:auto 7em auto auto;\"]),ge=l.a.div.withConfig({displayName:\"ViewerHeader__HeaderSetting\",componentId:\"ym8won-5\"})([\"margin:auto 7em auto 0;\"]),he=function(e){var t=e.titles,n=e.authors,i=e.ncxItem,r=Object(a.useCallback)((function(e){return e.reduce((function(e,t,n){return\"\".concat(e).concat(n>0?\", \":\"\").concat(t)}),\"\")}),[]);return de(pe,null,de(be,null,de(ve,null,r(t)),de(we,null,r(n.map((function(e){return e.name}))))),de(me,null,de(q,{ncxItem:i})),de(ge,null,de(fe,null)))},Oe=c.a.createElement,ye=Object(l.a)(h).withConfig({displayName:\"ViewerPage__Article\",componentId:\"sc-14mn4t-0\"})([\"overflow:hidden;text-align:initial;\"]),_e=Object(l.a)(_).withConfig({displayName:\"ViewerPage__RightButton\",componentId:\"sc-14mn4t-1\"})([\"right:2em;\"]),je=Object(l.a)(_).withConfig({displayName:\"ViewerPage__LeftButton\",componentId:\"sc-14mn4t-2\"})([\"left:2em;\"]),Ce=function(e){var t=e.viewerWidth,n=e.viewerHeight,i=e.pageColumnOffset,r=e.viewerSpine,o=e.isFirstPage,l=e.isLastPage,d=Object(u.b)(),p=Object(a.useState)(0),b=p[0],v=p[1],w=Object(u.c)((function(e){return e.viewerSetting})),m=w.fontSize,g=w.widthRatio,h=w.lineHeight,_=Object(a.useRef)(null);Object(a.useEffect)((function(){_.current.scrollLeft=i*(t+f.h),v(i)}),[r,i,t]);var j=Object(a.useCallback)((function(){var e=_.current;v(b+1),e.scrollLeft+=t+f.h,d(s.d())}),[d,b,t]),C=Object(a.useCallback)((function(){var e=_.current;v(b-1),e.scrollLeft-=t+f.h,d(s.c())}),[d,b,t]);return Oe(c.a.Fragment,null,Oe(ye,{ref:_,onClick:j,styleProps:{widthRatio:g,fontSize:m,lineHeight:h,width:t,height:n}},Oe(O,{styleProps:{widthRatio:g,fontSize:m,lineHeight:h,width:t,height:n}},Oe(y,{dangerouslySetInnerHTML:{__html:r}}))),!o&&Oe(je,{onClick:C},\"Left\"),!l&&Oe(_e,{onClick:j},\"Right\"))},Ie=n(\"dTf1\"),Se=n(\"apO0\"),Ee=c.a.createElement,Ne=l.a.div.withConfig({displayName:\"viewer__Container\",componentId:\"sc-1iklkx5-0\"})([\"padding:\",\"% \",\"%;height:\",\"px;background-color:\",\";text-align:center;overflow:hidden;\"],(100-f.g)/2,(100-f.k)/2,(function(e){return e.styleProps.height}),(function(e){return e.styleProps.backgroundColor})),Pe=function(e){var t=e.book,n=e.viewers,i=e.styleText,r=t.spines,o=t.titles,c=t.ncx,l=t.contributors,d=Object(u.b)(),p=Object(a.useState)(0),b=p[0],v=p[1],w=Object(a.useState)(0),m=w[0],g=w[1],h=Object(a.useState)(0),O=h[0],y=h[1],_=Object(a.useState)(0),j=_[0],C=_[1],I=Object(u.c)((function(e){return e.viewer})),S=I.viewerCountList,E=I.viewerPageCount,P=Object(u.c)((function(e){return e.viewerSetting})),x=P.fontSize,k=P.widthRatio,T=P.lineHeight,V=P.backgroundColor,H=Object(a.useMemo)((function(){return S.length>=n.length}),[S,n]),R=Object(a.useMemo)((function(){return 0===E}),[E]),L=Object(a.useMemo)((function(){return E===j}),[E,j]),M=Object(a.useMemo)((function(){var e=0,t=0;return S.some((function(n){return t+n.count>E?(e=n.index,!0):(t+=n.count,!1)})),e}),[E,S]),D=Object(a.useMemo)((function(){var e=E;return S.some((function(t,n){return!(n<O)||(e-=t.count,!1)})),e}),[S,E,O]);Object(a.useEffect)((function(){return v(Math.floor(window.innerWidth*(f.k/100))),g(Math.floor(window.innerHeight*(f.g/100))),function(){d(s.b())}}),[d]),Object(a.useEffect)((function(){console.log(\"Now spine index\",M),y(M)}),[M]),Object(a.useEffect)((function(){if(H){console.log(\"Set whole page count\");var e=S.reduce((function(e,t){return e+t.count}),0);C(e-1)}}),[H,S]),Object(a.useEffect)((function(){console.log(\"New style\"),d(s.b())}),[d,x,T,k]);var z=Object(a.useCallback)((function(e,t){return Math.floor(Number(e)*(Number(t)/100))}),[]);return Ee(Se.a,{styleText:i},Ee(he,{titles:o,authors:l,ncxItem:c}),Ee(Ne,{styleProps:{height:m,backgroundColor:V}},H&&Ee(Ce,{viewerWidth:z(b,k),viewerHeight:m,pageColumnOffset:D,viewerSpine:n[O],isFirstPage:R,isLastPage:L}),!H&&Ee(A,{viewerWidth:z(b,k),viewerHeight:m,spines:r,viewers:n})),Ee(N,{sliderMaxValue:j}))};Pe.getInitialProps=function(e){var t,i,a,c,u,l,s,f,d,p,b,v,w,m,g,h,O,y,_,j,C,I,S,E;return r.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(t=e.req,i=e.store,a=e.query,c=a.bookPath,u=decodeURI(String(c)),!t){N.next=24;break}return l=n(\"kCIj\"),s=l.EpubParser,f=u.split(\"/\"),d=Object(o.a)(f,2),p=d[1],b=\"http://\".concat(t.headers.host,\"/\").concat(u),N.prev=7,N.next=10,r.a.awrap(Object(Ie.a)(s,{epubFile:p,epubPath:u}));case 10:return v=N.sent,w=v.book,m=v.viewers,N.next=15,r.a.awrap(Object(Ie.b)(b,w.styles));case 15:return g=N.sent,N.abrupt(\"return\",{book:w,viewers:m,styleText:g});case 19:N.prev=19,N.t0=N.catch(7),console.log(\"Error\",N.t0);case 22:N.next=33;break;case 24:return h=i.getState(),O=h.books,y=O.list,_=y[0],y.some((function(e){return e.publicPath===u&&(_=e,!0)})),C=(j=_).book,I=j.viewers,S=j.publicPath,N.next=31,r.a.awrap(Object(Ie.b)(S,C.styles));case 31:return E=N.sent,N.abrupt(\"return\",{book:C,viewers:I,styleText:E});case 33:case\"end\":return N.stop()}}),null,null,[[7,19]],Promise)};t.default=Pe},\"9/5/\":function(e,t,n){(function(t){var n=\"Expected a function\",i=NaN,r=\"[object Symbol]\",o=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,s=\"object\"==typeof t&&t&&t.Object===Object&&t,f=\"object\"==typeof self&&self&&self.Object===Object&&self,d=s||f||Function(\"return this\")(),p=Object.prototype.toString,b=Math.max,v=Math.min,w=function(){return d.Date.now()};function m(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function g(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&p.call(e)==r}(e))return i;if(m(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(o,\"\");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=function(e,t,i){var r,o,a,c,u,l,s=0,f=!1,d=!1,p=!0;if(\"function\"!=typeof e)throw new TypeError(n);function h(t){var n=r,i=o;return r=o=void 0,s=t,c=e.apply(i,n)}function O(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-s>=a}function y(){var e=w();if(O(e))return _(e);u=setTimeout(y,function(e){var n=t-(e-l);return d?v(n,a-(e-s)):n}(e))}function _(e){return u=void 0,p&&r?h(e):(r=o=void 0,c)}function j(){var e=w(),n=O(e);if(r=arguments,o=this,l=e,n){if(void 0===u)return function(e){return s=e,u=setTimeout(y,t),f?h(e):c}(l);if(d)return u=setTimeout(y,t),h(l)}return void 0===u&&(u=setTimeout(y,t)),c}return t=g(t)||0,m(i)&&(f=!!i.leading,a=(d=\"maxWait\"in i)?b(g(i.maxWait)||0,t):a,p=\"trailing\"in i?!!i.trailing:p),j.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=l=o=u=void 0},j.flush=function(){return void 0===u?c:_(w())},j}}).call(this,n(\"yLpj\"))}},[[\"0XaK\",1,2,5,0,3,6]]]);"}